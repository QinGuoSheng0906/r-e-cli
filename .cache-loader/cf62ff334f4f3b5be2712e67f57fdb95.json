{"remainingRequest":"F:\\react\\c-s-cli\\node_modules\\thread-loader\\dist\\cjs.js??ref--4-1!F:\\react\\c-s-cli\\node_modules\\babel-loader\\lib\\index.js??ref--4-2!F:\\react\\c-s-cli\\node_modules\\eslint-loader\\dist\\cjs.js!F:\\react\\c-s-cli\\client\\routers\\asyncComponent.jsx","dependencies":[{"path":"F:\\react\\c-s-cli\\client\\routers\\asyncComponent.jsx","mtime":1603955708191},{"path":"F:\\react\\c-s-cli\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1586917825000},{"path":"F:\\react\\c-s-cli\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1603871286923},{"path":"F:\\react\\c-s-cli\\node_modules\\babel-loader\\lib\\index.js","mtime":1588843000311},{"path":"F:\\react\\c-s-cli\\node_modules\\eslint-loader\\dist\\cjs.js","mtime":1588843001323}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LnJlZ2V4cC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBfUmVmbGVjdCRjb25zdHJ1Y3QgZnJvbSAiQGJhYmVsL3J1bnRpbWUtY29yZWpzMi9jb3JlLWpzL3JlZmxlY3QvY29uc3RydWN0IjsKaW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiQGJhYmVsL3J1bnRpbWUtY29yZWpzMi9yZWdlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lLWNvcmVqczIvaGVscGVycy9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJAYmFiZWwvcnVudGltZS1jb3JlanMyL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIkBiYWJlbC9ydW50aW1lLWNvcmVqczIvaGVscGVycy9jcmVhdGVDbGFzcyI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiQGJhYmVsL3J1bnRpbWUtY29yZWpzMi9oZWxwZXJzL2luaGVyaXRzIjsKaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gIkBiYWJlbC9ydW50aW1lLWNvcmVqczIvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIjsKaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tICJAYmFiZWwvcnVudGltZS1jb3JlanMyL2hlbHBlcnMvZ2V0UHJvdG90eXBlT2YiOwoKKGZ1bmN0aW9uICgpIHsKICB2YXIgZW50ZXJNb2R1bGUgPSB0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWwuZW50ZXJNb2R1bGUgOiB1bmRlZmluZWQ7CiAgZW50ZXJNb2R1bGUgJiYgZW50ZXJNb2R1bGUobW9kdWxlKTsKfSkoKTsKCmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBfUmVmbGVjdCRjb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsgfTsgfQoKZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSAidW5kZWZpbmVkIiB8fCAhX1JlZmxlY3QkY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChfUmVmbGVjdCRjb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSAiZnVuY3Rpb24iKSByZXR1cm4gdHJ1ZTsgdHJ5IHsgRGF0ZS5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChfUmVmbGVjdCRjb25zdHJ1Y3QoRGF0ZSwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9Cgp2YXIgX19zaWduYXR1cmVfXyA9IHR5cGVvZiByZWFjdEhvdExvYWRlckdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyByZWFjdEhvdExvYWRlckdsb2JhbC5kZWZhdWx0LnNpZ25hdHVyZSA6IGZ1bmN0aW9uIChhKSB7CiAgcmV0dXJuIGE7Cn07CgovKg0KICogQERlc2NyaXB0dGlvbjog5oyJ6ZyA5Yqg6L29DQogKiBAQXV0aG9yOiDnp6blm73og5wNCiAqIEBMYXN0RWRpdG9yczog56em5Zu96IOcDQogKiBARGF0ZTogMjAyMC0xMC0yOSAxNDo0NzowMA0KICogQExhc3RFZGl0VGltZTogDQoqLwppbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnOwpleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhc3luY0NvbXBvbmVudChpbXBvcnRDb21wb25lbnQpIHsKICB2YXIgQXN5bmNDb21wb25lbnQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9Db21wb25lbnQpIHsKICAgIF9pbmhlcml0cyhBc3luY0NvbXBvbmVudCwgX0NvbXBvbmVudCk7CgogICAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihBc3luY0NvbXBvbmVudCk7CgogICAgZnVuY3Rpb24gQXN5bmNDb21wb25lbnQocHJvcHMpIHsKICAgICAgdmFyIF90aGlzOwoKICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFzeW5jQ29tcG9uZW50KTsKCiAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMpOwogICAgICBfdGhpcy5zdGF0ZSA9IHsKICAgICAgICBjb21wb25lbnQ6IG51bGwKICAgICAgfTsKICAgICAgcmV0dXJuIF90aGlzOwogICAgfQoKICAgIF9jcmVhdGVDbGFzcyhBc3luY0NvbXBvbmVudCwgW3sKICAgICAga2V5OiAiY29tcG9uZW50RGlkTW91bnQiLAogICAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfY29tcG9uZW50RGlkTW91bnQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgICAgdmFyIF95aWVsZCRpbXBvcnRDb21wb25lbiwgY29tcG9uZW50OwoKICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgICByZXR1cm4gaW1wb3J0Q29tcG9uZW50KCk7CgogICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgICBfeWllbGQkaW1wb3J0Q29tcG9uZW4gPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgICBjb21wb25lbnQgPSBfeWllbGQkaW1wb3J0Q29tcG9uZW4uZGVmYXVsdDsKICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50OiBjb21wb25lbnQKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWUsIHRoaXMpOwogICAgICAgIH0pKTsKCiAgICAgICAgZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7CiAgICAgICAgICByZXR1cm4gX2NvbXBvbmVudERpZE1vdW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gY29tcG9uZW50RGlkTW91bnQ7CiAgICAgIH0oKQogICAgfSwgewogICAgICBrZXk6ICJyZW5kZXIiLAogICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkgewogICAgICAgIHZhciBDID0gdGhpcy5zdGF0ZS5jb21wb25lbnQ7CiAgICAgICAgcmV0dXJuIEMgPyAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDLCB0aGlzLnByb3BzKSA6IG51bGw7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAiX19yZWFjdHN0YW5kaW5fX3JlZ2VuZXJhdGVCeUV2YWwiLAogICAgICAvLyBAdHMtaWdub3JlCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfX3JlYWN0c3RhbmRpbl9fcmVnZW5lcmF0ZUJ5RXZhbChrZXksIGNvZGUpIHsKICAgICAgICAvLyBAdHMtaWdub3JlCiAgICAgICAgdGhpc1trZXldID0gZXZhbChjb2RlKTsKICAgICAgfQogICAgfV0pOwoKICAgIHJldHVybiBBc3luY0NvbXBvbmVudDsKICB9KENvbXBvbmVudCk7CgogIHJldHVybiBBc3luY0NvbXBvbmVudDsKfQo7CgooZnVuY3Rpb24gKCkgewogIHZhciByZWFjdEhvdExvYWRlciA9IHR5cGVvZiByZWFjdEhvdExvYWRlckdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyByZWFjdEhvdExvYWRlckdsb2JhbC5kZWZhdWx0IDogdW5kZWZpbmVkOwoKICBpZiAoIXJlYWN0SG90TG9hZGVyKSB7CiAgICByZXR1cm47CiAgfQoKICByZWFjdEhvdExvYWRlci5yZWdpc3Rlcihhc3luY0NvbXBvbmVudCwgImFzeW5jQ29tcG9uZW50IiwgIkY6XFxyZWFjdFxcYy1zLWNsaVxcY2xpZW50XFxyb3V0ZXJzXFxhc3luY0NvbXBvbmVudC5qc3giKTsKfSkoKTsKCjsKCihmdW5jdGlvbiAoKSB7CiAgdmFyIGxlYXZlTW9kdWxlID0gdHlwZW9mIHJlYWN0SG90TG9hZGVyR2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IHJlYWN0SG90TG9hZGVyR2xvYmFsLmxlYXZlTW9kdWxlIDogdW5kZWZpbmVkOwogIGxlYXZlTW9kdWxlICYmIGxlYXZlTW9kdWxlKG1vZHVsZSk7Cn0pKCk7"},{"version":3,"sources":["F:/react/c-s-cli/client/routers/asyncComponent.jsx"],"names":["React","Component","asyncComponent","importComponent","AsyncComponent","props","state","component","default","setState","C"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,eAAe,SAASC,cAAT,CAAyBC,eAAzB,EAA0C;AAAA,MAChDC,cADgD;AAAA;;AAAA;;AAEnD,4BAAaC,KAAb,EAAoB;AAAA;;AAAA;;AACjB,gCAAMA,KAAN;AACA,YAAKC,KAAL,GAAa;AACVC,QAAAA,SAAS,EAAE;AADD,OAAb;AAFiB;AAKnB;;AAPkD;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBASXJ,eAAe,EATJ;;AAAA;AAAA;AAS/BI,kBAAAA,SAT+B,yBASxCC,OATwC;AAWhD,uBAAKC,QAAL,CAAc;AACXF,oBAAAA,SAAS,EAAEA;AADA,mBAAd;;AAXgD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,+BAezC;AACP,YAAMG,CAAC,GAAG,KAAKJ,KAAL,CAAWC,SAArB;AACA,eAAOG,CAAC,gBAAG,oBAAC,CAAD,EAAO,KAAKL,KAAZ,CAAH,GAA2B,IAAnC;AACF;AAlBkD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA,IACzBJ,SADyB;;AAqBtD,SAAOG,cAAP;AACF;;;;;;;;;;0BAtBuBF,c","sourcesContent":["/*\r\n * @Descripttion: 按需加载\r\n * @Author: 秦国胜\r\n * @LastEditors: 秦国胜\r\n * @Date: 2020-10-29 14:47:00\r\n * @LastEditTime: \r\n*/\r\n\r\nimport React, { Component } from 'react';\r\n \r\nexport default function asyncComponent (importComponent) {\r\n   class AsyncComponent extends Component {\r\n      constructor (props) {\r\n         super(props);\r\n         this.state = {\r\n            component: null\r\n         };\r\n      }\r\n      async componentDidMount () {\r\n         const { default: component } = await importComponent();\r\n \r\n         this.setState({\r\n            component: component\r\n         });\r\n      }\r\n      render () {\r\n         const C = this.state.component;\r\n         return C ? <C {...this.props} /> : null;\r\n      }\r\n   }\r\n \r\n   return AsyncComponent;\r\n}"]}]}